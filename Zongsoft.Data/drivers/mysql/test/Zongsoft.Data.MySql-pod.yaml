apiVersion: v1
kind: Pod
metadata:
  name: zongsoft.data
  labels:
    app: zongsoft.data
spec:
  containers:
    - name: mysql
      image: mysql:8.4.6
      ports:
        - containerPort: 3306
          protocol: TCP
          hostPort: 3306
      env:
        - name: LANG
          value: C.UTF-8
        - name: MYSQL_USER
          value: program
        - name: MYSQL_PASSWORD
          value: "xxxxxx"
        - name: MYSQL_DATABASE
          value: zongsoft
        - name: MYSQL_RANDOM_ROOT_PASSWORD
          value: "yes"
        - name: MYSQL_CHARSET
          value: utf8mb4
        - name: MYSQL_COLLATION
          value: utf8mb4_0900_ai_ci
      volumeMounts:
        - name: init-script
          mountPath: /docker-entrypoint-initdb.d/init.sql

  volumes:
    - name: init-script
      hostPath:
        path: /mnt/d/Zongsoft/framework/Zongsoft.Data/drivers/mysql/test/script/init.sql
        type: File
